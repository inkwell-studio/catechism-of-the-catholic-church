---
import GeneralContent from '@components/general-content.astro';

import { getNavigationValues } from '@logic/routing';
import { ContentRoute, getBasicRoutes, getTableOfContentsRoutes } from '@pages/_routes';

import NavigationUpdates from '@pages/partials/_navigation-updates.astro';

export const partial = true;

export async function getStaticPaths(): Promise<Array<ContentRoute>> {
    return [...getBasicRoutes(), ...(await getTableOfContentsRoutes())];
}

const { path, pathID, language, renderableNodes } = await getNavigationValues(Astro.params.path);
const previousUrl = renderableNodes?.previous?.url;
---

<GeneralContent {path} {pathID} {language} />
<NavigationUpdates {language} {previousUrl} />

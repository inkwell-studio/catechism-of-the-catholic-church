---
import { DEFAULT_LANGUAGE } from '@catechism/source/types/types';
import { getSupportedLanguages } from '@catechism/source/utils/language';

import BaseLayout from '@layouts/base.astro';
import ContentDemo from '@components/content-demo.astro';

export function getStaticPaths() {
    return getSupportedLanguages()
        .filter(([_languageKey, language]) => DEFAULT_LANGUAGE !== language)
        .map(([_languageKey, language]) => ({ params: { language } }));
}

const language = Astro.params.language;
const path = Astro.url.pathname;
---

<BaseLayout language={language}>
    <ContentDemo path={path} language={language} />
</BaseLayout>

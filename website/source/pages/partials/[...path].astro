---
import GeneralContent from '@components/general-content.astro';
import LanguageSelector from '@components/toolbar/menu/language-selector.astro';
import Replacement from '@components/replacement.astro';

import { getNavigationValues } from '@logic/routing';
import { ElementID } from '@logic/ui';
import { ContentRoute, getAuxiliaryRoutes, getParagraphNumberRoutes, getTableOfContentsRoutes } from '@pages/_routes';

export const partial = true;

export async function getStaticPaths(): Promise<Array<ContentRoute>> {
    return [
        ...getAuxiliaryRoutes(),
        ...(await getParagraphNumberRoutes()),
        ...(await getTableOfContentsRoutes()),
    ];
}

const { path, pathID, language } = await getNavigationValues(Astro.params.path);
---

<GeneralContent {path} {pathID} {language} />

<Replacement target={ElementID.LANGUAGE_SWITCHER_WRAPPER}>
    <LanguageSelector currentLanguage={language} />
</Replacement>

<Replacement target={ElementID.CROSS_REFERENCE_PANEL_CONTENT_WRAPPER} />

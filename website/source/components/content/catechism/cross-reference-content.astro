---
import { Language, NumberOrNumberRange, Paragraph } from '@catechism-types';

import PartialContentLink from '@components/partial-content-link.astro';

import ContentBaseArray from './content-base-array.astro';

interface Props {
    reference: NumberOrNumberRange;
    paragraphs: Array<Paragraph>;
    url: string;
    language: Language;
}

const { reference, paragraphs, url, language } = Astro.props;

/* Remove the hash of the URL, as including it causes a bug when interacting with HTMX,
as HTMX will use it the hash and fragment value in `document.querySelector()`, which
considers ID selectors that start with numbers as invalid (e.g. `#123`).

IDs that start with numbers are valid according to HTML5, but invalid according to HTML4. */
---

<PartialContentLink {url} {language}>
    navigate-to: {reference}
</PartialContentLink>

<div>
    {paragraphs && <ContentBaseArray content={paragraphs} {language} />}
</div>

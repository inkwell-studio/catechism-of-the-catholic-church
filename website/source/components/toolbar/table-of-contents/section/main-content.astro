---
import PartialContentLink from '@components/partial-content-link.astro';
import MainContentEntry from './main-content-entry.astro';

import { Content, Language, TableOfContentsEntry } from '@catechism-types';

interface Props {
    content: TableOfContentsEntry;
    language: Language;
}

const { content, language } = Astro.props;
---

<PartialContentLink url={content.url} {language}>
    <h1 class="sticky top-0 bg-white pt-6 pb-2 mb-2 shadow-sm shadow-white">
        <span class="inline-block font-sans font-bold text-stone-500 text-center tracking-wider uppercase mb-1">
            {Content.PART === content.contentType ? content.contentTypeTitle : <span>&nbsp;</span>}
        </span>
        <br />
        <span class="font-title text-3xl text-stone-800">
            {content.title}
        </span>
    </h1>
</PartialContentLink>
<ol class="space-y-2">
    {content.children.map((entry) => <MainContentEntry {entry} level={0} {language} />)}
</ol>

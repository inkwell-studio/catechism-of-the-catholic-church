{
    "tasks": {
        "disable-telemetry": "astro telemetry disable",
        "astro-dev-toolbar-disable": "astro preferences disable devToolbar",
        "astro-dev-toolbar-enable": "astro preferences enable devToolbar",

        "lint": "deno lint",
        "format": "deno fmt",
        "check-ts": {
            "dependencies": [
                "lint",
                "format"
            ],
            "command": "deno check ./"
        },
        "check-code": "deno task check-ts && astro check",

        "dev": "astro dev",

        "build-mock-data": "deno run -RW source/mock-data/run.ts && deno task build-artifacts && deno task test-artifacts",
        "build-artifacts": "deno run -RW source/artifacts/builders/build.ts",
        "build-search-index": "deno run -ERW --allow-run source/search-index.ts",
        "build-no-checks": "deno task build-artifacts && astro build && deno run -RW source/robots.txt.ts && deno task build-search-index",
        "build": {
            "dependencies": [
                "check-code",
                "test-source",
                "build-no-checks"
            ]
        },
        "build-on-deployment-platform": "deno task check-code && deno task test-source -E=NODE_ENV && deno task build-no-checks",
        "serve": "deno run -RNE dist/server/entry.mjs",

        "test-source": "deno test -R source",
        "test-artifacts": "deno test -R source/artifacts",
        "test-e2e": "deno test -N e2e-tests"
    },
    "nodeModulesDir": "auto",
    "compilerOptions": {
        "lib": [
            "deno.ns",
            "DOM"
        ]
    },
    "exclude": [
        ".astro/",
        "dist/",
        "node_modules/",
        "public/",
        "source/artifacts/**/*.json"
    ],
    "fmt": {
        "indentWidth": 4,
        "lineWidth": 140,
        "singleQuote": true
    },
    "unstable": ["fmt-component"],
    "imports": {
        "@artifacts/": "./source/artifacts/",
        "@artifacts-types": "./source/artifacts/types/types.ts",
        "@catechism-types": "../catechism/source/types/types.ts",
        "@catechism-utils/": "../catechism/source/utils/",
        "@graphics/": "./source/graphics/",
        "@components/": "./source/components/",
        "@layouts/": "./source/layouts/",
        "@logic/": "./source/logic/",
        "@pages/": "./source/pages/",

        "@shoelace-types": "npm:/@shoelace-style/shoelace",
        "@std/assert": "jsr:@std/assert@1.0.11",
        "@std/path": "jsr:@std/path@1.0.8"
    }
}
